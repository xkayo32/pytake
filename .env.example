# PyTake Docker Environment Configuration
# Copy this file to .env and adjust values for your environment

# ============================================
# APP CONFIGURATION
# ============================================
APP_ENV=development
API_HOST=0.0.0.0
API_PORT=8080
FRONTEND_PORT=3000

# ============================================
# NGINX CONFIGURATION
# ============================================
NGINX_HTTP_PORT=8080
NGINX_HTTPS_PORT=8443
SERVER_NAME=localhost
DOMAIN_NAME=localhost

# ============================================
# DATABASE CONFIGURATION
# ============================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=pytake
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD
POSTGRES_DB=pytake
POSTGRES_EXTERNAL_PORT=5432

# Database URL (constructed from above for internal use)
DATABASE_URL=postgres://pytake:CHANGE_ME_SECURE_PASSWORD@postgres:5432/pytake

# ============================================
# REDIS CONFIGURATION
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_EXTERNAL_PORT=6379

# Redis URL (constructed from above for internal use)
REDIS_URL=redis://default:CHANGE_ME_REDIS_PASSWORD@redis:6379

# ============================================
# JWT CONFIGURATION
# ============================================
JWT_SECRET=CHANGE_ME_MIN_32_CHARS_RANDOM_STRING_FOR_PRODUCTION
JWT_EXPIRATION=86400

# ============================================
# WHATSAPP CONFIGURATION
# ============================================
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id
WHATSAPP_ACCESS_TOKEN=your_access_token
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your_webhook_verify_token
WHATSAPP_BUSINESS_ACCOUNT_ID=your_business_account_id

# ============================================
# CORS CONFIGURATION
# ============================================
# Use * for development, specific origins for production
CORS_ALLOWED_ORIGINS=*

# ============================================
# LOGGING CONFIGURATION
# ============================================
# Options: trace, debug, info, warn, error
RUST_LOG=info,simple_api=debug
LOG_LEVEL=info

# ============================================
# DOCKER SETTINGS
# ============================================
DOCKER_NETWORK_SUBNET=172.20.0.0/16
UPLOADS_PATH=./uploads
LOGS_PATH=./logs
SSL_PATH=./ssl

# ============================================
# SSL CONFIGURATION
# ============================================
SSL_ENABLED=false
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ============================================
# RATE LIMITING
# ============================================
API_RATE_LIMIT=10r/s
WEBHOOK_RATE_LIMIT=50r/s
CONNECTION_LIMIT=10
CLIENT_MAX_BODY_SIZE=50M

# ============================================
# REDIS SETTINGS
# ============================================
REDIS_MAX_MEMORY=256mb

# ============================================
# HEALTH CHECK
# ============================================
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# ============================================
# BIND ADDRESS (for container internal use)
# ============================================
BIND_ADDRESS=0.0.0.0:8080